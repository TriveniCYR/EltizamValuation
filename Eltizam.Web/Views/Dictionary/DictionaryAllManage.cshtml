@using Eltizam.Utility.Models;
@using Microsoft.AspNetCore.Http
@using Eltizam.Web.Controllers
@using Microsoft.AspNetCore.Mvc.Localization
@inject IHttpContextAccessor HttpContextAccessor
@inject Microsoft.Extensions.Localization.IStringLocalizer<Eltizam.Resource.Master> MasterLocalizer
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@inject Microsoft.Extensions.Localization.IStringLocalizer<Eltizam.Resource.Shared> SharedLocalizer

@* @model List<Eltizam.Business.Models.MasterDictionaryDetailById>  *@
@model Eltizam.Business.Models.MasterDictionaryDetailById;
@* @model Eltizam.Business.Models.MasterDictionaryEntity; *@

@{
    var list = new List<Eltizam.Business.Models.MasterDictionaryDetailById>();
    if (ViewData["ChildDictList"] != null)
    {
        list = ViewData["ChildDictList"] as List<Eltizam.Business.Models.MasterDictionaryDetailById>;

    }
    ViewData["Title"] = @MasterLocalizer["ChildDescriptionList"];

    string jsVersion = @Configuration.GetSection("StaticJS")["version"];
    // var id = Model[0].Id;
    // var cid = Model[0].Id;
    // var cdesc = Model[0].ChildDescription;
    // var desc = Model[0].Description;
    var ss = "";
    int id = 0;
}

<div id="PlaceHolderHere"></div>

<main>

    <div class="flex justify-between mt-20 mobile_flexColumn position-relative">
        <h3 class="dashboardTitle">CHILD DICTIONARY LIST</h3>
        @* <div class="buttonArea flex align-item-center">
        <button class="flex align-item-center blueBtn" id="addRole">
        <a class="whiteAtag" style="@IsAddAllow" asp-action="RoleManage"><img src="~/assets/plus.svg" alt="plus" /> @SharedLocalizer["Add New"]</a>
        </button>

        </div> *@
        <div class="buttonArea flex align-item-center">
            @*  <form asp-action="ClientManage" asp-controller="Client" method="GET"> *@
            <button class="flex align-item-center blueBtn" id="addRole">
                <img src="../assets/plus.svg" alt="plus"> Add New
            </button>
            @*  </form> *@
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        </div>
    </div>
    <div class="scroll-x">
        <table id="RoleTable">
            <thead>
                <tr>
                    <th>@MasterLocalizer["Id"]<img src="~/assets/arrow-down.svg" alt="arrow-down" class="downArrow" /></th>
                    @* <th>@MasterLocalizer["Description Id"]<img src="~/assets/arrow-down.svg" alt="arrow-down" class="downArrow" /></th> *@
                    <th>@MasterLocalizer["Description"]<img src="~/assets/arrow-down.svg" alt="arrow-down" class="downArrow" /></th>
                    <th>@MasterLocalizer["Child Description"]<img src="~/assets/arrow-down.svg" alt="arrow-down" class="downArrow" /></th>
                    <th>@SharedLocalizer["Status"] <img src="~/assets/arrow-down.svg" alt="arrow-down" class="downArrow" /></th>
                    @* <th>@SharedLocalizer["Action"]</th> *@
                </tr>
            </thead>
            <tbody>
                @{
                    if (list != null && list.Count() > 0)
                        foreach (var item in list)
                        {

                            <input type="hidden" value="@item" id="childid" />
                            <tr>
                                <td>@Html.DisplayFor(module => item.Id)</td>
                                @*      <td>@Html.DisplayFor(module => item.DictionaryId)</td> *@
                                <td>@Html.DisplayFor(module => item.Description)</td>
                                <td>@Html.DisplayFor(module => item.ChildDescription)</td>
                                <td>@Html.LabelFor(model => item.IsActive, item.IsActive==1 ? "Active" : "InActive", new { @style = item.IsActive==1 ? "color:green;" : "color:red;" })</td>
                                <td class="position-relative">
                                    <img src="../assets/dots-vertical.svg" alt="dots-vertical" class="activeDots" />
                                    <div class="actionItem">
                                        <ul>
                                            <li class="editLocation">
                                                <img src="../assets/edit.svg" alt="edit" />
                                                <button class="flex align-item-center blueBtn" id="editRole">
                                                    <a title="Edit" asp-action="DictionaryAllManage" asp-route-Id="@item.ChildId"><span>eEdit</span></a>
                                                    @*  <a title="Edit" onclick="GetLocationById(@item.Id);"><span>Edit</span></a> *@
                                                </button>
                                                @*  <button class="flex align-item-center blueBtn" id="addRole">
                                    <img src="../assets/plus.svg" alt="plus"> Add New
                                    </button> *@
                                            </li>
                                            <li class="viewLocation">
                                                <img src="../assets/view.svg" alt="view" />
                                                <a title="Edit" asp-action="LocationManage" asp-route-Id="@item.Id" asp-route-Isview=1><span>View</span></a>
                                            </li>

                                            <li class="delete">
                                                <img src="../assets/trash.svg" alt="trash" />
                                                <a title="Delete" data-toggle="modal" data-target="#DeleteLocationModel" data-backdrop="static" data-keyboard="false" onclick="ConfirmationDelete(@item.Id); return false;"><span>Delete</span></a>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        }
                }
            </tbody>
        </table>
    </div>

</main>
<!-- popup add location model -->
<form asp-action="DictionaryAllManage">
    <div class="popup-overlay w-800Popup" id="popup-addRole-overlay">
        <div class="popup">
            <div class="content text-center">
                <div class="popup-head position-relative">
                    Add Child Dictionary
                    <img src="../assets/x.svg" alt="x" id="closePopup" class="addRoleClose">
                </div>
                <div class="popup-action inputSearchs">

                    <div class="flex">
                        <label for="ChildDescription">
                            Child Description
                            @Html.TextBoxFor(model => model.Description, new {@class = "form-control"})
                        </label>
                        <label for="" class="">
                            Status
                            @{
                                bool isActive = Model != null && Model.IsActive == 1; // Convert 1 to true, any other value to false
                            }

                            <input type="checkbox" id="addLocation" class="input-switch" name="IsActive" value="1" @(isActive ? "checked" : "") required />
                            <label class="label-switch" for="addLocation"></label>
                            <span class="info-text"></span>
                        </label>
                        @Html.HiddenFor(model => model.Id, new {@class = "form-control",  @placeholder = @SharedLocalizer["DescriptionId"] })

                    </div>


                    <div class="buttonArea centerBtn">
                        <button class="lineBtn" id="resetLocation">Reset</button>
                        <button type="submit" asp-route-id=@list[0].Id class="bgBlue">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<!-- popup edit model -->
<div class="popup-overlay w-800Popup" id="popup-editRole-overlay">

    <div class="popup">
        <div class="content text-center">
            <div class="popup-head position-relative">
                Edit Location
                <img src="../assets/x.svg" alt="x" id="closePopup" class="closeEditRolePopup">
            </div>
            <div class="popup-action inputSearchs">

                <div class="flex">
                    <label for="ChildDescription">
                        Child Description
                        @Html.TextBoxFor(model => model.Description, new {@class = "form-control"})
                    </label>
                    <label for="" class="">
                        Status
                        @{
                            bool isActiveEdit = Model != null && Model.IsActive == 1; // Convert 1 to true, any other value to false
                        }

                        <input type="checkbox" id="addLocation" class="input-switch" name="IsActive" value="1" @(isActiveEdit ? "checked" : "") required />
                        <label class="label-switch" for="addLocation"></label>
                        <span class="info-text"></span>
                    </label>
                    @Html.HiddenFor(model => model.Id, new {@class = "form-control",  @placeholder = @SharedLocalizer["DescriptionId"] })

                </div>


                <div class="buttonArea centerBtn">
                    <button class="lineBtn" id="resetLocation">Reset</button>
                    @if (list.Count > 0)
                    {
                        id = list[0].Id;
                    }
                    <button type="submit" asp-route-id=@id class="bgBlue">Submit</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/js/custom/location/locationmaster.js"></script>